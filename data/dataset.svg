<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1048px" preserveAspectRatio="none" style="width:1750px;height:1048px;" version="1.1" viewBox="0 0 1750 1048" width="1750px" zoomAndPan="magnify"><defs><filter height="300%" id="fxm64yo7rchkr" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Object--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="123.1147" id="Object" style="stroke: #383838; stroke-width: 1.5;" width="167" x="1109.5" y="8"/><ellipse cx="1171.25" cy="24" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1170.9375,30 Q1169,30 1167.875,28.5703 Q1166.75,27.1406 1166.75,24.1875 Q1166.75,21.6875 1167.9375,20 Q1169.125,18.3125 1171.1875,18.3125 Q1171.6406,18.3125 1172.0781,18.3125 Q1172.5156,18.3125 1172.8281,18.3125 Q1173.0781,18.3125 1173.2422,18.3125 Q1173.4063,18.3125 1173.8125,18.3125 L1174.5156,22 L1173.4531,22 Q1173.0156,20.9063 1172.4453,20.4531 Q1171.875,20 1170.9531,20 Q1169.7969,20 1169.1172,21.1797 Q1168.4375,22.3594 1168.4375,24.1875 Q1168.4375,26.2031 1168.9609,27.2578 Q1169.4844,28.3125 1170.8906,28.3125 Q1171.8125,28.3125 1172.4609,27.7422 Q1173.1094,27.1719 1173.4531,25.7813 L1174.4844,26.2969 Q1174.0938,28.0469 1173.1563,29.0234 Q1172.2188,30 1170.9375,30 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="1191.75" y="29.5576">Object</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1110.5" x2="1275.5" y1="40" y2="40"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="1115.5" y="56.606">Parent class of all other classes</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="33" x="1115.5" y="90.6519">(buitin)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1110.5" x2="1183" y1="70.5344" y2="70.5344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1183" y="75.1289">field</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1203" x2="1275.5" y1="70.5344" y2="70.5344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1115.5" y="124.6978">(builtin)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1110.5" x2="1175.5" y1="104.5803" y2="104.5803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1175.5" y="109.1748">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1210.5" x2="1275.5" y1="104.5803" y2="104.5803"/><!--class Dataset--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="138.1377" id="Dataset" style="stroke: #383838; stroke-width: 1.5;" width="186" x="355" y="213.5"/><ellipse cx="422.75" cy="229.5" fill="#CDCDCD" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M423.8281,230.5 L421.0156,230.5 L420.2031,232.1094 Q420.1563,232.2656 420.1563,232.4063 Q420.1563,232.5938 420.2031,232.7031 Q420.25,232.8125 420.4688,232.8125 L421.0156,232.8125 L421.0156,234.5 L417.75,234.5 L417.75,232.8125 L418.3125,232.8125 Q418.5313,232.8125 418.6484,232.75 Q418.7656,232.6875 418.8125,232.5 L421.9063,222.8125 L423.2813,222.8125 L426.3125,232.3906 Q426.4063,232.625 426.5469,232.7188 Q426.6875,232.8125 426.875,232.8125 L427.4375,232.8125 L427.4375,234.5 L423.7813,234.5 L423.7813,232.8125 L424.3906,232.8125 Q424.5625,232.8125 424.5703,232.7969 Q424.5781,232.7813 424.5781,232.7188 Q424.5781,232.5469 424.5469,232.4531 L423.8281,230.5 Z M418.6094,233.5 L418.6094,233.5 Z M419.2813,233.5 L419.2813,233.5 Z M424,233.5 L424,233.5 Z M425.125,233.5 L425.125,233.5 Z M422.3281,224.9063 L422.4063,224.9063 L421.5469,228.8125 L423.5,228.8125 L422.3281,224.9063 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="42" x="443.25" y="235.0576">Dataset</text><line style="stroke: #383838; stroke-width: 1.5;" x1="356" x2="540" y1="245.5" y2="245.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="361" y="262.106">The whole data will be exposed to it</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="364" y="296.1519"/><line style="stroke: #383838; stroke-width: 1.0;" x1="356" x2="438" y1="276.0344" y2="276.0344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="438" y="280.6289">filed</text><line style="stroke: #383838; stroke-width: 1.0;" x1="458" x2="540" y1="276.0344" y2="276.0344"/><polygon fill="#EAEAEA" points="366,321.6033,370,325.6033,366,329.6033,362,325.6033" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="375" y="330.1978">__init__()</text><polygon fill="#EAEAEA" points="366,336.6262,370,340.6262,366,344.6262,362,340.6262" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="93" x="375" y="345.2207">__getitem__(*input)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="356" x2="430.5" y1="310.0803" y2="310.0803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="430.5" y="314.6748">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="465.5" x2="540" y1="310.0803" y2="310.0803"/><!--class Sampler--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="183.2065" id="Sampler" style="stroke: #383838; stroke-width: 1.5;" width="255" x="720.5" y="191"/><ellipse cx="820.25" cy="207" fill="#CDCDCD" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M821.3281,208 L818.5156,208 L817.7031,209.6094 Q817.6563,209.7656 817.6563,209.9063 Q817.6563,210.0938 817.7031,210.2031 Q817.75,210.3125 817.9688,210.3125 L818.5156,210.3125 L818.5156,212 L815.25,212 L815.25,210.3125 L815.8125,210.3125 Q816.0313,210.3125 816.1484,210.25 Q816.2656,210.1875 816.3125,210 L819.4063,200.3125 L820.7813,200.3125 L823.8125,209.8906 Q823.9063,210.125 824.0469,210.2188 Q824.1875,210.3125 824.375,210.3125 L824.9375,210.3125 L824.9375,212 L821.2813,212 L821.2813,210.3125 L821.8906,210.3125 Q822.0625,210.3125 822.0703,210.2969 Q822.0781,210.2813 822.0781,210.2188 Q822.0781,210.0469 822.0469,209.9531 L821.3281,208 Z M816.1094,211 L816.1094,211 Z M816.7813,211 L816.7813,211 Z M821.5,211 L821.5,211 Z M822.625,211 L822.625,211 Z M819.8281,202.4063 L819.9063,202.4063 L819.0469,206.3125 L821,206.3125 L819.8281,202.4063 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="47" x="840.75" y="212.5576">Sampler</text><line style="stroke: #383838; stroke-width: 1.5;" x1="721.5" x2="974.5" y1="223" y2="223"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="726.5" y="239.606">A generator of mini-batch</text><polygon fill="none" points="731.5,265.0574,735.5,269.0574,731.5,273.0574,727.5,269.0574" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="740.5" y="273.6519">dataset</text><polygon fill="none" points="731.5,280.0803,735.5,284.0803,731.5,288.0803,727.5,284.0803" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="740.5" y="288.6748">mode</text><polygon fill="none" points="731.5,295.1033,735.5,299.1033,731.5,303.1033,727.5,299.1033" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="740.5" y="303.6978">batch_size</text><line style="stroke: #383838; stroke-width: 1.0;" x1="721.5" x2="838" y1="253.5344" y2="253.5344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="838" y="258.1289">field</text><line style="stroke: #383838; stroke-width: 1.0;" x1="858" x2="974.5" y1="253.5344" y2="253.5344"/><polygon fill="#EAEAEA" points="731.5,329.1492,735.5,333.1492,731.5,337.1492,727.5,333.1492" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="740.5" y="337.7437">__init__(dataset, batch_size, mini_batch_size)</text><ellipse cx="731.5" cy="349.1721" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="740.5" y="352.7666">__next__()</text><ellipse cx="731.5" cy="364.1951" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="740.5" y="367.7896">sample_by_idx(scaffold_id, mol_id, batch_size)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="721.5" x2="830.5" y1="317.6262" y2="317.6262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="830.5" y="322.2207">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="865.5" x2="974.5" y1="317.6262" y2="317.6262"/><!--class Transformer--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="123.1147" id="Transformer" style="stroke: #383838; stroke-width: 1.5;" width="157" x="1010.5" y="221"/><ellipse cx="1051.6" cy="237" fill="#CDCDCD" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1052.6781,238 L1049.8656,238 L1049.0531,239.6094 Q1049.0063,239.7656 1049.0063,239.9063 Q1049.0063,240.0938 1049.0531,240.2031 Q1049.1,240.3125 1049.3188,240.3125 L1049.8656,240.3125 L1049.8656,242 L1046.6,242 L1046.6,240.3125 L1047.1625,240.3125 Q1047.3813,240.3125 1047.4984,240.25 Q1047.6156,240.1875 1047.6625,240 L1050.7563,230.3125 L1052.1313,230.3125 L1055.1625,239.8906 Q1055.2563,240.125 1055.3969,240.2188 Q1055.5375,240.3125 1055.725,240.3125 L1056.2875,240.3125 L1056.2875,242 L1052.6313,242 L1052.6313,240.3125 L1053.2406,240.3125 Q1053.4125,240.3125 1053.4203,240.2969 Q1053.4281,240.2813 1053.4281,240.2188 Q1053.4281,240.0469 1053.3969,239.9531 L1052.6781,238 Z M1047.4594,241 L1047.4594,241 Z M1048.1313,241 L1048.1313,241 Z M1052.85,241 L1052.85,241 Z M1053.975,241 L1053.975,241 Z M1051.1781,232.4063 L1051.2563,232.4063 L1050.3969,236.3125 L1052.35,236.3125 L1051.1781,232.4063 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="67" x="1071.4" y="242.5576">Transformer</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1011.5" x2="1166.5" y1="253" y2="253"/><polygon fill="none" points="1021.5,280.0344,1025.5,284.0344,1021.5,288.0344,1017.5,284.0344" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="1030.5" y="288.6289">data</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1011.5" x2="1079" y1="268.5115" y2="268.5115"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1079" y="273.106">field</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1099" x2="1166.5" y1="268.5115" y2="268.5115"/><polygon fill="#EAEAEA" points="1021.5,314.0803,1025.5,318.0803,1021.5,322.0803,1017.5,318.0803" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1030.5" y="322.6748">mol_to_array(smiles)</text><polygon fill="#EAEAEA" points="1021.5,329.1033,1025.5,333.1033,1021.5,337.1033,1017.5,333.1033" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="1030.5" y="337.6978">batch_to_array(smiles_list)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1011.5" x2="1071.5" y1="302.5574" y2="302.5574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1071.5" y="307.1519">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1106.5" x2="1166.5" y1="302.5574" y2="302.5574"/><!--class Block--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="153.1606" id="Block" style="stroke: #383838; stroke-width: 1.5;" width="191" x="1202.5" y="206"/><ellipse cx="1278.75" cy="222" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1278.4375,228 Q1276.5,228 1275.375,226.5703 Q1274.25,225.1406 1274.25,222.1875 Q1274.25,219.6875 1275.4375,218 Q1276.625,216.3125 1278.6875,216.3125 Q1279.1406,216.3125 1279.5781,216.3125 Q1280.0156,216.3125 1280.3281,216.3125 Q1280.5781,216.3125 1280.7422,216.3125 Q1280.9063,216.3125 1281.3125,216.3125 L1282.0156,220 L1280.9531,220 Q1280.5156,218.9063 1279.9453,218.4531 Q1279.375,218 1278.4531,218 Q1277.2969,218 1276.6172,219.1797 Q1275.9375,220.3594 1275.9375,222.1875 Q1275.9375,224.2031 1276.4609,225.2578 Q1276.9844,226.3125 1278.3906,226.3125 Q1279.3125,226.3125 1279.9609,225.7422 Q1280.6094,225.1719 1280.9531,223.7813 L1281.9844,224.2969 Q1281.5938,226.0469 1280.6563,227.0234 Q1279.7188,228 1278.4375,228 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="30" x="1299.25" y="227.5576">Block</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1203.5" x2="1392.5" y1="238" y2="238"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="82" x="1208.5" y="254.606">A subclass of int</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="1208.5" y="269.6289">Performs the id of a block of samples</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1210.5" y="297.0803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1222.5" y="303.6748">num</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1203.5" x2="1288" y1="283.5574" y2="283.5574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1288" y="288.1519">filed</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1308" x2="1392.5" y1="283.5574" y2="283.5574"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1210.5" y="331.1262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="84" x="1222.5" y="337.7207">__init__(block_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1210.5" y="346.1492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="1222.5" y="352.7437">__repr__()</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1203.5" x2="1280.5" y1="317.6033" y2="317.6033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1280.5" y="322.1978">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1315.5" x2="1392.5" y1="317.6033" y2="317.6033"/><!--class ExcludeBlock--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="183.2065" id="ExcludeBlock" style="stroke: #383838; stroke-width: 1.5;" width="179" x="1428.5" y="191"/><ellipse cx="1477.25" cy="207" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1476.9375,213 Q1475,213 1473.875,211.5703 Q1472.75,210.1406 1472.75,207.1875 Q1472.75,204.6875 1473.9375,203 Q1475.125,201.3125 1477.1875,201.3125 Q1477.6406,201.3125 1478.0781,201.3125 Q1478.5156,201.3125 1478.8281,201.3125 Q1479.0781,201.3125 1479.2422,201.3125 Q1479.4063,201.3125 1479.8125,201.3125 L1480.5156,205 L1479.4531,205 Q1479.0156,203.9063 1478.4453,203.4531 Q1477.875,203 1476.9531,203 Q1475.7969,203 1475.1172,204.1797 Q1474.4375,205.3594 1474.4375,207.1875 Q1474.4375,209.2031 1474.9609,210.2578 Q1475.4844,211.3125 1476.8906,211.3125 Q1477.8125,211.3125 1478.4609,210.7422 Q1479.1094,210.1719 1479.4531,208.7813 L1480.4844,209.2969 Q1480.0938,211.0469 1479.1563,212.0234 Q1478.2188,213 1476.9375,213 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="1497.75" y="212.5576">ExcludeBlock</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1429.5" x2="1606.5" y1="223" y2="223"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1436.5" y="252.0344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="39" x="1448.5" y="258.6289">block_id</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1436.5" y="267.0574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="2" x="1448.5" y="273.6519">i</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1436.5" y="282.0803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="24" x="1448.5" y="288.6748">ls_all</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1429.5" x2="1508" y1="238.5115" y2="238.5115"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1508" y="243.106">filed</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1528" x2="1606.5" y1="238.5115" y2="238.5115"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1436.5" y="316.1262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="1448.5" y="322.7207">__init__(block_id, num_block=5)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1436.5" y="331.1492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="52" x="1448.5" y="337.7437">__repr__()</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1436.5" y="346.1721"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="1448.5" y="352.7666">__iter__()</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1436.5" y="361.1951"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="1448.5" y="367.7896">__next__()</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1429.5" x2="1500.5" y1="302.6033" y2="302.6033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1500.5" y="307.1978">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1535.5" x2="1606.5" y1="302.6033" y2="302.6033"/><!--class Switch--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="153.1606" id="Switch" style="stroke: #383838; stroke-width: 1.5;" width="97" x="1642.5" y="206"/><ellipse cx="1670.55" cy="222" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1670.2375,228 Q1668.3,228 1667.175,226.5703 Q1666.05,225.1406 1666.05,222.1875 Q1666.05,219.6875 1667.2375,218 Q1668.425,216.3125 1670.4875,216.3125 Q1670.9406,216.3125 1671.3781,216.3125 Q1671.8156,216.3125 1672.1281,216.3125 Q1672.3781,216.3125 1672.5422,216.3125 Q1672.7063,216.3125 1673.1125,216.3125 L1673.8156,220 L1672.7531,220 Q1672.3156,218.9063 1671.7453,218.4531 Q1671.175,218 1670.2531,218 Q1669.0969,218 1668.4172,219.1797 Q1667.7375,220.3594 1667.7375,222.1875 Q1667.7375,224.2031 1668.2609,225.2578 Q1668.7844,226.3125 1670.1906,226.3125 Q1671.1125,226.3125 1671.7609,225.7422 Q1672.4094,225.1719 1672.7531,223.7813 L1673.7844,224.2969 Q1673.3938,226.0469 1672.4563,227.0234 Q1671.5188,228 1670.2375,228 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="36" x="1687.45" y="227.5576">Switch</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1643.5" x2="1738.5" y1="238" y2="238"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="1648.5" y="273.6289">value</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="14" x="1648.5" y="288.6519">fall</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1643.5" x2="1681" y1="253.5115" y2="253.5115"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1681" y="258.106">filed</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1701" x2="1738.5" y1="253.5115" y2="253.5115"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1650.5" y="316.1033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1662.5" y="322.6978">__init__(value)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1650.5" y="331.1262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="47" x="1662.5" y="337.7207">__iter__()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="1662.5" y="352.7437">match(*args)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1643.5" x2="1673.5" y1="302.5803" y2="302.5803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1673.5" y="307.1748">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1708.5" x2="1738.5" y1="302.5803" y2="302.5803"/><!--class SQLDataset--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="603.8491" id="SQLDataset" style="stroke: #383838; stroke-width: 1.5;" width="316" x="6" y="434"/><ellipse cx="126.25" cy="450" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M125.9375,456 Q124,456 122.875,454.5703 Q121.75,453.1406 121.75,450.1875 Q121.75,447.6875 122.9375,446 Q124.125,444.3125 126.1875,444.3125 Q126.6406,444.3125 127.0781,444.3125 Q127.5156,444.3125 127.8281,444.3125 Q128.0781,444.3125 128.2422,444.3125 Q128.4063,444.3125 128.8125,444.3125 L129.5156,448 L128.4531,448 Q128.0156,446.9063 127.4453,446.4531 Q126.875,446 125.9531,446 Q124.7969,446 124.1172,447.1797 Q123.4375,448.3594 123.4375,450.1875 Q123.4375,452.2031 123.9609,453.2578 Q124.4844,454.3125 125.8906,454.3125 Q126.8125,454.3125 127.4609,453.7422 Q128.1094,453.1719 128.4531,451.7813 L129.4844,452.2969 Q129.0938,454.0469 128.1563,455.0234 Q127.2188,456 125.9375,456 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="146.75" y="455.5576">SQLDataset</text><line style="stroke: #383838; stroke-width: 1.5;" x1="7" x2="321" y1="466" y2="466"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="108" x="12" y="482.606">A mysql Dataset class</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="510.0574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="12" x="26" y="516.6519">db</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="525.0803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="69" x="26" y="531.6748">scaffold_table</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="540.1033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="45" x="26" y="546.6978">mol_table</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="555.1262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="26" y="561.7207">map_table</text><line style="stroke: #383838; stroke-width: 1.0;" x1="7" x2="154" y1="496.5344" y2="496.5344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="154" y="501.1289">field</text><line style="stroke: #383838; stroke-width: 1.0;" x1="174" x2="321" y1="496.5344" y2="496.5344"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="589.1721"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="290" x="26" y="595.7666">__init__(mysql_param, scaffold_table, mol_table, map_table)</text><ellipse cx="17" cy="607.1951" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="63" x="26" y="610.7896">ls_to_str(list)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="619.218"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="26" y="625.8125">__getitem__(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="634.241"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="206" x="26" y="640.8354">_get_item_block_block(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="649.2639"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="26" y="655.8584">_get_item_block_int(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="664.2869"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="26" y="670.8813">_get_item_block_list(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="679.3098"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="194" x="26" y="685.9043">_get_item_list_block(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="694.3328"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="182" x="26" y="700.9272">_get_item_list_list(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="709.3557"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="26" y="715.9502">_get_item_list_int(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="724.3787"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="192" x="26" y="730.9731">_get_item_int_block(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="739.4016"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="180" x="26" y="745.9961">_get_item_int_list(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="754.4246"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="178" x="26" y="761.019">_get_item_int_int(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="769.4475"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="218" x="26" y="776.042">_getitem_exblock_exblock(saffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="784.4705"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="26" y="791.0649">_getitem_exblock_block(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="799.4934"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="26" y="806.0879">_getitem_exblock_list(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="814.5164"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="26" y="821.1108">_getitem_exblock_int(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="829.5393"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="200" x="26" y="836.1338">_getitem_list_exblock(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="844.5623"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="198" x="26" y="851.1567">_getitem_int_exblock(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="859.5852"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="26" y="866.1797">_getitem_block_exblock(scaffold_id, mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="874.6082"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="165" x="26" y="881.2026">_getitem_scaffold_int(scaffold_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="889.6311"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="167" x="26" y="896.2256">_getitem_scaffold_list(scaffold_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="904.6541"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="179" x="26" y="911.2485">_getitem_scaffold_block(scaffold_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="919.677"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="191" x="26" y="926.2715">_getitem_scaffold_exblock(scaffold_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="934.7"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="117" x="26" y="941.2944">_getitem_mol_int(mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="949.7229"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="119" x="26" y="956.3174">_getitem_mol_list(mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="964.7458"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="131" x="26" y="971.3403">_getitem_mol_block(mol_id)</text><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="979.7688"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="143" x="26" y="986.3633">_getitem_mol_exblock(mol_id)</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="29" y="1001.3862"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="14" y="1009.8147"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="64" x="26" y="1016.4092">_getitem_all()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="0" x="29" y="1031.4321"/><line style="stroke: #383838; stroke-width: 1.0;" x1="7" x2="146.5" y1="575.6492" y2="575.6492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="146.5" y="580.2437">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="181.5" x2="321" y1="575.6492" y2="575.6492"/><!--class ProtoDataset--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="138.1377" id="ProtoDataset" style="stroke: #383838; stroke-width: 1.5;" width="182" x="357" y="667"/><ellipse cx="407.75" cy="683" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M407.4375,689 Q405.5,689 404.375,687.5703 Q403.25,686.1406 403.25,683.1875 Q403.25,680.6875 404.4375,679 Q405.625,677.3125 407.6875,677.3125 Q408.1406,677.3125 408.5781,677.3125 Q409.0156,677.3125 409.3281,677.3125 Q409.5781,677.3125 409.7422,677.3125 Q409.9063,677.3125 410.3125,677.3125 L411.0156,681 L409.9531,681 Q409.5156,679.9063 408.9453,679.4531 Q408.375,679 407.4531,679 Q406.2969,679 405.6172,680.1797 Q404.9375,681.3594 404.9375,683.1875 Q404.9375,685.2031 405.4609,686.2578 Q405.9844,687.3125 407.3906,687.3125 Q408.3125,687.3125 408.9609,686.7422 Q409.6094,686.1719 409.9531,684.7813 L410.9844,685.2969 Q410.5938,687.0469 409.6563,688.0234 Q408.7188,689 407.4375,689 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="72" x="428.25" y="688.5576">ProtoDataset</text><line style="stroke: #383838; stroke-width: 1.5;" x1="358" x2="538" y1="699" y2="699"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="152" x="363" y="715.606">A protocol buffer Dataset class</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="365" y="743.0574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="97" x="377" y="749.6519">scaffolds_proto_file</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="365" y="758.0803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="377" y="764.6748">idx_sm_proto_file</text><line style="stroke: #383838; stroke-width: 1.0;" x1="358" x2="438" y1="729.5344" y2="729.5344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="438" y="734.1289">filed</text><line style="stroke: #383838; stroke-width: 1.0;" x1="458" x2="538" y1="729.5344" y2="729.5344"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="365" y="792.1262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="156" x="377" y="798.7207">__getitem__(scaffold_id, mol_id)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="358" x2="430.5" y1="778.6033" y2="778.6033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="430.5" y="783.1978">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="465.5" x2="538" y1="778.6033" y2="778.6033"/><!--class SQLSampler--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="183.2065" id="SQLSampler" style="stroke: #383838; stroke-width: 1.5;" width="255" x="574.5" y="644.5"/><ellipse cx="662.25" cy="660.5" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M661.9375,666.5 Q660,666.5 658.875,665.0703 Q657.75,663.6406 657.75,660.6875 Q657.75,658.1875 658.9375,656.5 Q660.125,654.8125 662.1875,654.8125 Q662.6406,654.8125 663.0781,654.8125 Q663.5156,654.8125 663.8281,654.8125 Q664.0781,654.8125 664.2422,654.8125 Q664.4063,654.8125 664.8125,654.8125 L665.5156,658.5 L664.4531,658.5 Q664.0156,657.4063 663.4453,656.9531 Q662.875,656.5 661.9531,656.5 Q660.7969,656.5 660.1172,657.6797 Q659.4375,658.8594 659.4375,660.6875 Q659.4375,662.7031 659.9609,663.7578 Q660.4844,664.8125 661.8906,664.8125 Q662.8125,664.8125 663.4609,664.2422 Q664.1094,663.6719 664.4531,662.2813 L665.4844,662.7969 Q665.0938,664.5469 664.1563,665.5234 Q663.2188,666.5 661.9375,666.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="71" x="682.75" y="666.0576">SQLSampler</text><line style="stroke: #383838; stroke-width: 1.5;" x1="575.5" x2="828.5" y1="676.5" y2="676.5"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="582.5" y="705.5344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="594.5" y="712.1289">dataset</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="582.5" y="720.5574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="594.5" y="727.1519">mode</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="582.5" y="735.5803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="594.5" y="742.1748">batch_size</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="582.5" y="750.6033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="594.5" y="757.1978">minibatch_size</text><line style="stroke: #383838; stroke-width: 1.0;" x1="575.5" x2="692" y1="692.0115" y2="692.0115"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="692" y="696.606">filed</text><line style="stroke: #383838; stroke-width: 1.0;" x1="712" x2="828.5" y1="692.0115" y2="692.0115"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="582.5" y="784.6492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="223" x="594.5" y="791.2437">__init__(dataset, batch_size, mini_batch_size)</text><ellipse cx="585.5" cy="802.6721" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="594.5" y="806.2666">__next__()</text><ellipse cx="585.5" cy="817.6951" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="594.5" y="821.2896">sample_by_idx(scaffold_id, mol_id, batch_size)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="575.5" x2="684.5" y1="771.1262" y2="771.1262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="684.5" y="775.7207">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="719.5" x2="828.5" y1="771.1262" y2="771.1262"/><!--class ProtoSampler--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="183.2065" id="ProtoSampler" style="stroke: #383838; stroke-width: 1.5;" width="255" x="864.5" y="644.5"/><ellipse cx="949.75" cy="660.5" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M949.4375,666.5 Q947.5,666.5 946.375,665.0703 Q945.25,663.6406 945.25,660.6875 Q945.25,658.1875 946.4375,656.5 Q947.625,654.8125 949.6875,654.8125 Q950.1406,654.8125 950.5781,654.8125 Q951.0156,654.8125 951.3281,654.8125 Q951.5781,654.8125 951.7422,654.8125 Q951.9063,654.8125 952.3125,654.8125 L953.0156,658.5 L951.9531,658.5 Q951.5156,657.4063 950.9453,656.9531 Q950.375,656.5 949.4531,656.5 Q948.2969,656.5 947.6172,657.6797 Q946.9375,658.8594 946.9375,660.6875 Q946.9375,662.7031 947.4609,663.7578 Q947.9844,664.8125 949.3906,664.8125 Q950.3125,664.8125 950.9609,664.2422 Q951.6094,663.6719 951.9531,662.2813 L952.9844,662.7969 Q952.5938,664.5469 951.6563,665.5234 Q950.7188,666.5 949.4375,666.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="76" x="970.25" y="666.0576">ProtoSampler</text><line style="stroke: #383838; stroke-width: 1.5;" x1="865.5" x2="1118.5" y1="676.5" y2="676.5"/><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="872.5" y="705.5344"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="884.5" y="712.1289">dataset</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="872.5" y="720.5574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="26" x="884.5" y="727.1519">mode</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="872.5" y="735.5803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="884.5" y="742.1748">batch_size</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="872.5" y="750.6033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="884.5" y="757.1978">minibatch_size</text><line style="stroke: #383838; stroke-width: 1.0;" x1="865.5" x2="982" y1="692.0115" y2="692.0115"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="982" y="696.606">filed</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1002" x2="1118.5" y1="692.0115" y2="692.0115"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="872.5" y="784.6492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="884.5" y="791.2437">__init__(dataset, minibatch_size, batch_size=0)</text><ellipse cx="875.5" cy="802.6721" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="884.5" y="806.2666">__next__()</text><ellipse cx="875.5" cy="817.6951" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="229" x="884.5" y="821.2896">sample_by_idx(scaffold_id, mol_id, batch_size)</text><line style="stroke: #383838; stroke-width: 1.0;" x1="865.5" x2="974.5" y1="771.1262" y2="771.1262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="974.5" y="775.7207">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1009.5" x2="1118.5" y1="771.1262" y2="771.1262"/><!--class DFTransformer--><rect fill="#F8F8F8" filter="url(#fxm64yo7rchkr)" height="303.3901" id="DFTransformer" style="stroke: #383838; stroke-width: 1.5;" width="165" x="1154.5" y="584.5"/><ellipse cx="1191.55" cy="600.5" fill="#C2C2C2" rx="11" ry="11" style="stroke: #383838; stroke-width: 1.0;"/><path d="M1191.2375,606.5 Q1189.3,606.5 1188.175,605.0703 Q1187.05,603.6406 1187.05,600.6875 Q1187.05,598.1875 1188.2375,596.5 Q1189.425,594.8125 1191.4875,594.8125 Q1191.9406,594.8125 1192.3781,594.8125 Q1192.8156,594.8125 1193.1281,594.8125 Q1193.3781,594.8125 1193.5422,594.8125 Q1193.7063,594.8125 1194.1125,594.8125 L1194.8156,598.5 L1193.7531,598.5 Q1193.3156,597.4063 1192.7453,596.9531 Q1192.175,596.5 1191.2531,596.5 Q1190.0969,596.5 1189.4172,597.6797 Q1188.7375,598.8594 1188.7375,600.6875 Q1188.7375,602.7031 1189.2609,603.7578 Q1189.7844,604.8125 1191.1906,604.8125 Q1192.1125,604.8125 1192.7609,604.2422 Q1193.4094,603.6719 1193.7531,602.2813 L1194.7844,602.7969 Q1194.3938,604.5469 1193.4563,605.5234 Q1192.5188,606.5 1191.2375,606.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="1210.45" y="606.0576">DFTransformer</text><line style="stroke: #383838; stroke-width: 1.5;" x1="1155.5" x2="1318.5" y1="616.5" y2="616.5"/><polygon fill="none" points="1165.5,643.5344,1169.5,647.5344,1165.5,651.5344,1161.5,647.5344" style="stroke: #8C8C8C; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="21" x="1174.5" y="652.1289">data</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1162.5" y="660.5574"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="68" x="1174.5" y="667.1519">col_sc_smiles</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1162.5" y="675.5803"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="72" x="1174.5" y="682.1748">col_mol_smiles</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1162.5" y="690.6033"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="57" x="1174.5" y="697.1978">col_ls_atom</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1162.5" y="705.6262"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="1174.5" y="712.2207">col_ls_np</text><rect fill="none" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1162.5" y="720.6492"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="46" x="1174.5" y="727.2437">col_ls_nh</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1155.5" x2="1227" y1="632.0115" y2="632.0115"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="20" x="1227" y="636.606">field</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1247" x2="1318.5" y1="632.0115" y2="632.0115"/><rect fill="#808080" height="6" style="stroke: #595959; stroke-width: 1.0;" width="6" x="1162.5" y="754.6951"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="65" x="1174.5" y="761.2896">__init__(data,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1174.5" y="776.3125">col_sc_smiles,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="75" x="1174.5" y="791.3354">col_mol_smiles,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="1174.5" y="806.3584">col_ls_atom,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="49" x="1174.5" y="821.3813">col_ls_np,</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="50" x="1174.5" y="836.4043">col_ls_nh)</text><ellipse cx="1165.5" cy="847.8328" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="1174.5" y="851.4272">mol_to_array(smiles)</text><ellipse cx="1165.5" cy="862.8557" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="139" x="1174.5" y="866.4502">mol_list_to_array(smiles_list)</text><ellipse cx="1165.5" cy="877.8787" fill="#A6A6A6" rx="3" ry="3" style="stroke: #545454; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="60" x="1174.5" y="881.4731">str_to_ls('[]')</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1155.5" x2="1219.5" y1="741.1721" y2="741.1721"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="35" x="1219.5" y="745.7666">method</text><line style="stroke: #383838; stroke-width: 1.0;" x1="1254.5" x2="1318.5" y1="741.1721" y2="741.1721"/><!--link Object to Dataset--><path d="M1089.28,92.842 C989.536,115.069 834.897,151.485 703,191 C648.775,207.246 589.099,228.249 541.119,245.931 " fill="none" id="Object-Dataset" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1088.04,85.946,1109.08,88.454,1091.07,99.615,1088.04,85.946" style="stroke: #383838; stroke-width: 1.0;"/><!--link Object to Sampler--><path d="M1091.9,130.991 C1060.18,150.085 1025.07,171.331 993,191 C987.308,194.491 981.497,198.067 975.631,201.686 " fill="none" id="Object-Sampler" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1088.39,124.935,1109.14,120.628,1095.6,136.933,1088.39,124.935" style="stroke: #383838; stroke-width: 1.0;"/><!--link Object to Transformer--><path d="M1154.16,149.291 C1142.5,172.948 1129.9,198.522 1118.91,220.817 " fill="none" id="Object-Transformer" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1147.94,146.091,1163.06,131.247,1160.5,152.281,1147.94,146.091" style="stroke: #383838; stroke-width: 1.0;"/><!--link Object to Block--><path d="M1232.19,149.262 C1241.4,167.761 1251.19,187.435 1260.33,205.796 " fill="none" id="Object-Block" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1225.87,152.271,1223.23,131.247,1238.41,146.034,1225.87,152.271" style="stroke: #383838; stroke-width: 1.0;"/><!--link Object to ExcludeBlock--><path d="M1294.31,121.131 C1331.93,141.311 1374.35,165.739 1411,191 C1416.71,194.935 1422.47,199.116 1428.21,203.439 " fill="none" id="Object-ExcludeBlock" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1290.95,127.274,1276.55,111.728,1297.5,114.902,1290.95,127.274" style="stroke: #383838; stroke-width: 1.0;"/><!--link Object to Switch--><path d="M1296.7,80.037 C1389.69,92.841 1526.3,122.552 1625,191 C1631.23,195.322 1637.1,200.427 1642.56,205.977 " fill="none" id="Object-Switch" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1295.61,86.954,1276.67,77.447,1297.41,73.07,1295.61,86.954" style="stroke: #383838; stroke-width: 1.0;"/><!--link Dataset to SQLDataset--><path d="M384.514,368.031 C369.189,389.278 353.159,412.234 339,434 C333.397,442.614 327.766,451.411 322.136,460.329 " fill="none" id="Dataset-SQLDataset" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="378.902,363.847,396.327,351.792,390.223,372.083,378.902,363.847" style="stroke: #383838; stroke-width: 1.0;"/><!--link Dataset to ProtoDataset--><path d="M448,371.746 C448,458.141 448,587.94 448,666.733 " fill="none" id="Dataset-ProtoDataset" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="441,371.583,448,351.583,455,371.583,441,371.583" style="stroke: #383838; stroke-width: 1.0;"/><!--link Sampler to SQLSampler--><path d="M812.415,393.545 C787.545,470.455 754.735,571.92 731.358,644.211 " fill="none" id="Sampler-SQLSampler" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="805.904,390.93,818.718,374.053,819.225,395.237,805.904,390.93" style="stroke: #383838; stroke-width: 1.0;"/><!--link Sampler to ProtoSampler--><path d="M883.097,393.545 C907.627,470.455 939.988,571.92 963.044,644.211 " fill="none" id="Sampler-ProtoSampler" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="876.289,395.235,876.881,374.053,889.627,390.981,876.289,395.235" style="stroke: #383838; stroke-width: 1.0;"/><!--link Transformer to DFTransformer--><path d="M1115.29,363.707 C1135.32,424.801 1163.47,510.683 1187.65,584.463 " fill="none" id="Transformer-DFTransformer" style="stroke: #383838; stroke-width: 1.0;"/><polygon fill="none" points="1108.54,365.577,1108.96,344.391,1121.84,361.216,1108.54,365.577" style="stroke: #383838; stroke-width: 1.0;"/><!--
@startuml

skinparam dpi 300
skinparam monochrome true
skinparam svgLinkTarget _parent


abstract class Object

Object <|- - Dataset
Object <|- - Sampler
Object <|- - Transformer
Object <|- - Block
Object <|- - ExcludeBlock
Object <|- - Switch


Dataset <|- - SQLDataset
Dataset <|- - ProtoDataset

Sampler <|- - SQLSampler
Sampler <|- - ProtoSampler

Transformer <|- - DFTransformer

class Object{
Parent class of all other classes
- -field- -
(buitin)
- -method- -
(builtin)
}

class Switch{
- -filed- -
value
fall
- -method- -
-__init__(value)
-__iter__()
match(*args)
}


class Block{
A subclass of int
Performs the id of a block of samples
- -filed- -
-num
- -method- -
-__init__(block_id)
-__repr__()
}

class ExcludeBlock{
- -filed- -
-block_id
- i
-ls_all
- -method- -
-__init__(block_id, num_block=5)
-__repr__()
-__iter__()
-__next__()
}

abstract class Dataset{
The whole data will be exposed to it
- -filed- -

- -method- -
#__init__()
#__getitem__(*input)
}

class SQLDataset{
A mysql Dataset class
- -field- -
-db
-scaffold_table
-mol_table
-map_table
- -method- -
-__init__(mysql_param, scaffold_table, mol_table, map_table)
+ls_to_str(list)
-__getitem__(scaffold_id, mol_id)
-_get_item_block_block(scaffold_id, mol_id)
-_get_item_block_int(scaffold_id, mol_id)
-_get_item_block_list(scaffold_id, mol_id)
-_get_item_list_block(scaffold_id, mol_id)
-_get_item_list_list(scaffold_id, mol_id)
-_get_item_list_int(scaffold_id, mol_id)
-_get_item_int_block(scaffold_id, mol_id)
-_get_item_int_list(scaffold_id, mol_id)
-_get_item_int_int(scaffold_id, mol_id)
-_getitem_exblock_exblock(saffold_id, mol_id)
-_getitem_exblock_block(scaffold_id, mol_id)
-_getitem_exblock_list(scaffold_id, mol_id)
-_getitem_exblock_int(scaffold_id, mol_id)
-_getitem_list_exblock(scaffold_id, mol_id)
-_getitem_int_exblock(scaffold_id, mol_id)
-_getitem_block_exblock(scaffold_id, mol_id)
-_getitem_scaffold_int(scaffold_id)
-_getitem_scaffold_list(scaffold_id)
-_getitem_scaffold_block(scaffold_id)
-_getitem_scaffold_exblock(scaffold_id)
-_getitem_mol_int(mol_id)
-_getitem_mol_list(mol_id)
-_getitem_mol_block(mol_id)
-_getitem_mol_exblock(mol_id)

-_getitem_all()

}

class ProtoDataset{
A protocol buffer Dataset class
- -filed- -
-scaffolds_proto_file
-idx_sm_proto_file
- -method- -
-__getitem__(scaffold_id, mol_id)
}


abstract class Sampler{
A generator of mini-batch
- -field- -
#dataset
#mode
#batch_size
- -method- -
#__init__(dataset, batch_size, mini_batch_size)
+__next__()
+sample_by_idx(scaffold_id, mol_id, batch_size)
}

class SQLSampler{
- -filed- -
-dataset
-mode
-batch_size
-minibatch_size
- -method- -
-__init__(dataset, batch_size, mini_batch_size)
+__next__()
+sample_by_idx(scaffold_id, mol_id, batch_size)
}

class ProtoSampler{
- -filed- -
-dataset
-mode
-batch_size
-minibatch_size
- -method- -
-__init__(dataset, minibatch_size, batch_size=0)
+__next__()
+sample_by_idx(scaffold_id, mol_id, batch_size)
}



abstract class Transformer{
- -field- -
#data
- -method- -
#mol_to_array(smiles)
#batch_to_array(smiles_list)
}

class DFTransformer{
- -field- -
#data
-col_sc_smiles
-col_mol_smiles
-col_ls_atom
-col_ls_np
-col_ls_nh
- -method- -
-__init__(data,
          col_sc_smiles,
          col_mol_smiles,
          col_ls_atom,
          col_ls_np,
          col_ls_nh)
+mol_to_array(smiles)
+mol_list_to_array(smiles_list)
+str_to_ls('[]')
}



@enduml

PlantUML version 1.2018.11(Sun Sep 23 00:43:53 CST 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b16
Operating System: Windows 10
OS Version: 10.0
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>